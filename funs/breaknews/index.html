<html>
<head>
<title> блог успешного кодера tailsjs</title>
<meta name="description" content="блог успешного кодера tailsjs коэфециент выпадения бравлера."> 
<meta name="Keywords" content="tailsjs, блог, успешный блог, tailsjs js, js, javascript, блог tailsjs, tailsjs блог"> 
<link rel="icon" href="https://tailsjs.github.io/favicon.ico" type="image/x-icon">
<link rel ="stylesheet" href="style.css">
</head>
<body style="font-family: 'Segoe UI', Tahoma, sans-serif; font-size: 75%">
<a href="../index.html" class="back"><font size="12" style="font-family: 'Aqum'"><= back</font></a><p style="font-family: 'Hack';color: #fff !important;  font-size: 48px;transform: translate(-50%, -50%);position: absolute;text-align: center;left: 50%;top: -1%;">tailsjs</p>
<center><font size="96" color="white" style="font-family: 'Aqum'">BREAKING NEWS</font></center>
<br>

<canvas id="canvas" width="960" height="540" style="border: white;border-style: solid;-moz-box-sizing: border-box;box-sizing: border-box;transform: translate(-50%, -50%);position: absolute;left: 70%;top: 50%;"></canvas>
<!-- <input value="Download as PNG!" download="tailsjs.ml_breaknews.jpg" href="" onclick="download_img(this, 'jpg');" type="button" style="transform: translate(-50%, -50%);position: absolute;left: 70%;top: 80%;">
<input value="Download as JPG!" download="tailsjs.ml_breaknews.png" href="" onclick="download_img(this, 'png');" type="button" style="transform: translate(-50%, -50%);position: absolute;left: 70%;top: 85%;"> -->
<div class="settings" style="font-family: 'Aqum'">
	<center><font size="96">SETTINGS</font></center></br>
<center><input type="file" id="inp" required accept=".jpg, .jpeg, .png"></center></br>
<center>Heading: <input id="up_text"></center>
<center>Description: <input id="down_text"></center></br>
<center><input value="Create!" id="create" type="button"></center></br>
</div>
<script>
	var canvas = document.getElementById('canvas');
	var ctx = canvas.getContext('2d');
download_img = function(elem, type) {
	if(canvas.toDataURL() == document.getElementById('blank').toDataURL()){
        alert("It's blank!");
	}else{
	image = canvas.toDataURL("image/" + type);
  	elem.href = image;
	console.log('Download canvas complete!')
	};
};
let img;
document.getElementById('inp').onchange = function(e) {
	img = new Image();
	img.src = URL.createObjectURL(this.files[0]);
};
function draw() {
	if(!img)return alert("You forgot to attach an image!")
	var up_text = document.getElementById('up_text').value;
	var down_text = document.getElementById('down_text').value;
	if(!up_text)return alert('You forgot heading!')
	if(!down_text)return alert('You forgot description!')

	var img2 = new Image();
	img2.src = "resources/breakingnews.png"
	img2.onload = function(){
		ctx.beginPath();
	ctx.rect(0, 0, 1000, 1000);
	ctx.fill();
		ctx.drawImage(img, 0, 0, 960, 540);
	ctx.drawImage(img2, 0, 0);
	ctx.font = '60px AGT';
			ctx.fillStyle = "#000000";
			ctx.fillText(up_text, 30, 445);
			ctx.font = '20px Arial';
			ctx.fillStyle = "#000000";
			ctx.fillText(down_text, 107, 500);
  }
}
document.getElementById('create').addEventListener('click', draw);
</script>
<canvas id='blank' style='display:none'></canvas>
</body>
</html>
