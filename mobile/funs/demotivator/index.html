<html>
<head>
<title> блог успешного кодера tailsjs</title>
<meta name="description" content="блог успешного кодера tailsjs коэфециент выпадения бравлера."> 
<meta name="Keywords" content="tailsjs, блог, успешный блог, tailsjs js, js, javascript, блог tailsjs, tailsjs блог"> 
<link rel="icon" href="https://tailsjs.github.io/favicon.ico" type="image/x-icon">
<link rel ="stylesheet" href="style.css">
</head>
<body style="font-family: 'Segoe UI', Tahoma, sans-serif; font-size: 75%">
<a href="../index.html" class="back"><font size="12" style="font-family: 'Aqum'"><= back</font></a><p style="font-family: 'Hack';color: #fff !important;  font-size: 48px;transform: translate(-50%, -50%);position: absolute;text-align: center;left: 50%;top: -1%;">tailsjs</p>
<center><font size="96" color="white" style="font-family: 'Aqum'">Demotivator</font></center>
<br>

<canvas id="canvas" width="760" height="678" style="border: white;border-style: solid;-moz-box-sizing: border-box;box-sizing: border-box;transform: translate(-50%, -50%);position: absolute;left: 50%;top: 80%;"></canvas>
<!-- <input value="Download as PNG!" download="tailsjs.ml_breaknews.jpg" href="" onclick="download_img(this, 'jpg');" type="button" style="transform: translate(-50%, -50%);position: absolute;left: 70%;top: 80%;">
<input value="Download as JPG!" download="tailsjs.ml_breaknews.png" href="" onclick="download_img(this, 'png');" type="button" style="transform: translate(-50%, -50%);position: absolute;left: 70%;top: 85%;"> -->
<div class="settings" style="font-family: 'Aqum'">
	<center><font size="96">SETTINGS</font></center></br>
<center><input type="file" id="inp" required accept=".jpg, .jpeg, .png"></center></br>
<center>Upper text: <input id="up_text"></center>
<center>Down text: <input id="down_text"></center></br>
<center><input value="Create!" id="create" type="button"></center></br>
</div>
<script>
var img;
var image = document.getElementById('inp').files[0];
var button = document.getElementById('create');

document.getElementById('inp').onchange = function(e) {
	img = new Image();
	img.onerror = failed;
	img.src = URL.createObjectURL(this.files[0]);
};
function toDo(){
	if(!img)return failed();
	var up_text = document.getElementById('up_text').value;
	var down_text = document.getElementById('down_text').value;
	if(!up_text)up_text = "Upper text";
	if(!down_text)down_text = "Bottom text";
	var link = document.createElement('link');
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = 'http://fonts.googleapis.com/css?family=Georgia';
	var link2 = document.createElement('link');
	link2.rel = 'stylesheet';
	link2.type = 'text/css';
	link2.href = 'http://fonts.googleapis.com/css?family=Calibri';
	var canvas = document.getElementById('canvas');
	var ctx = canvas.getContext('2d');
	ctx.beginPath();
	ctx.rect(0, 0, 500, 500);
	ctx.fill();
	var img2 = new Image();
	img2.src = "resources/demotivator.jpg";
	img2.onload = function(){
	ctx.drawImage(img2, 0, 0);
	ctx.drawImage(img, 54, 55, 652, 487);
	ctx.fillStyle = "white";
	ctx.font = '50px Georgia';
	ctx.textAlign = "center";		
	ctx.fillStyle = "#FFFFFF";
	ctx.fillText(up_text, 380, 594);
	ctx.font = '30px Calibri';		
	ctx.textAlign = "center";	
	ctx.fillStyle = "#FFFFFF";
	ctx.fillText(down_text, 380, 644);
	};

};
function failed() {
	return alert('либо ты заливаешь картинку, либо по ебалу');
};
document.getElementById('create').addEventListener('click', toDo);
</script>
<canvas id='blank' style='display:none'></canvas>
</body>
</html>
